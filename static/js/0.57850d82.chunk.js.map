{"version":3,"sources":["scripts/PalletTown/index.js"],"names":["database","getEventsDB","getEvents","game","setMessage","sendMessage","meetOak","goToLaboratory","goUp","character","a","walk","event","nextTile","y","player","x","characters","CHARACTERS","OAK","enableControls","collision","still","properties","visible","position","SIZE","Promise","all","then","direction","interact","setItem"],"mappings":"0MAIMA,EAAWC,YAAY,cAEtB,SAASC,EAAUC,GACxB,IAAMC,EAAaC,YAAYF,GAmG/B,MAjGe,CACPG,QADO,WACI,OAAD,uCAGCC,EAHD,EA2BCC,EA3BD,0HA2Bd,WAAoBC,GAApB,SAAAC,EAAA,6DACED,EAAUE,KAAK,MACfF,EAAUG,MAAQ,kBAA+B,IAAzBH,EAAUI,SAASC,GAF7C,SAGQL,EAAUG,MAHlB,4CA3Bc,uBA2BCJ,EA3BD,wFAGd,WAA8BC,GAA9B,SAAAC,EAAA,yDACMD,IAAcM,EADpB,uBAEIN,EAAUE,KAAK,QACfF,EAAUG,MAAQ,kBAA+B,IAAzBH,EAAUI,SAASC,GAH/C,SAIUL,EAAUG,MAJpB,cAOEH,EAAUE,KAAK,QACfF,EAAUG,MAAQ,kBAA+B,IAAzBH,EAAUI,SAASG,GAR7C,SASQP,EAAUG,MATlB,cAWEH,EAAUE,KAAK,QACfF,EAAUG,MAAQ,kBAA+B,KAAzBH,EAAUI,SAASC,GAZ7C,UAaQL,EAAUG,MAblB,eAeEH,EAAUE,KAAK,SACfF,EAAUG,MAAQ,kBAA+B,KAAzBH,EAAUI,SAASG,GAhB7C,UAiBQP,EAAUG,MAjBlB,eAmBEH,EAAUE,KAAK,MACfF,EAAUG,MAAQ,kBAAMH,EAAUI,SAASC,KAAOL,IAAcM,EAAS,GAAK,KApBhF,UAqBQN,EAAUG,MArBlB,6CAHc,uBAGCL,EAHD,4CAiCVE,EAAYN,EAAKc,WAAWC,IAAWC,KACnCJ,EAAWZ,EAAXY,OAlCM,SAoCRX,EAAW,yBApCH,cAqCdD,EAAKiB,gBAAiB,EACtBX,EAAUY,WAAY,EACtBN,EAAOO,MAAM,QAEbb,EAAUc,WAAa,CAAEC,SAAS,GAClCf,EAAUgB,SAAW,CACnBT,EAAG,EAAIU,IACPZ,EAAG,EAAIY,KAGTjB,EAAUE,KAAK,MACfF,EAAUG,MAAQ,kBAA+B,IAAzBH,EAAUI,SAASC,GAhD7B,UAiDRL,EAAUG,MAjDF,eAmDdH,EAAUE,KAAK,SACfF,EAAUG,MAAQ,kBAAMH,EAAUI,SAASG,IAAMD,EAAOU,SAAST,EAAIU,KApDvD,UAqDRjB,EAAUG,MArDF,eAuDdH,EAAUa,MAAM,MAvDF,UAyDRlB,EAAW,sUAzDH,yBA8DRuB,QAAQC,IAAI,CAChBrB,EAAeE,GAAWoB,MAAK,kBAAMpB,EAAUc,WAAa,CAAEC,SAAS,MACvEjB,EAAeQ,GAAQc,MAAK,kBAAMd,EAAOO,aAhE7B,eAoEdP,EAAOH,MAAQ,kBAAMT,EAAKc,WAAWC,IAAWC,OAASV,GApE3C,UAqERM,EAAOH,MArEC,eAuEdH,EAAUY,WAAY,GAEtBZ,EAAYN,EAAKc,WAAWC,IAAWC,MAC7BW,UAAY,KACtBrB,EAAUgB,SAAW,CACnBT,EAAG,EAAIU,IACPZ,EAAG,GAAKY,KA7EI,UAgFRC,QAAQC,IAAI,CAChBpB,EAAKC,GAAWoB,MAAK,kBAAMpB,EAAUa,MAAM,WAC3Cd,EAAKO,GAAQc,MAAK,kBAAMd,EAAOO,MAAM,cAlFzB,eAqFdb,EAAUc,WAAa,CAAEQ,SAAU,iBAEnChB,EAAOH,MAAQ,iBAA2B,UAArBG,EAAOe,WAvFd,UAwFRf,EAAOH,MAxFC,QAyFdG,EAAOgB,WAEP5B,EAAKiB,gBAAiB,EACtBpB,EAASgC,QAAQ,WAAW,GA5Fd","file":"static/js/0.57850d82.chunk.js","sourcesContent":["import { getEventsDB } from \"libraries/database\"\nimport { CHARACTERS, SIZE } from \"libraries/constants\"\nimport { sendMessage } from \"libraries/util\"\n\nconst database = getEventsDB(\"PalletTown\")\n\nexport function getEvents(game) {\n  const setMessage = sendMessage(game)\n\n  const events = {\n    async meetOak() {\n      //if (await database.getItem(\"meetOak\")) return\n\n      async function goToLaboratory(character) {\n        if (character === player) {\n          character.walk(\"down\")\n          character.event = () => character.nextTile.y === 3\n          await character.event\n        }\n\n        character.walk(\"left\")\n        character.event = () => character.nextTile.x === 9\n        await character.event\n\n        character.walk(\"down\")\n        character.event = () => character.nextTile.y === 12\n        await character.event\n\n        character.walk(\"right\")\n        character.event = () => character.nextTile.x === 12\n        await character.event\n\n        character.walk(\"up\")\n        character.event = () => character.nextTile.y === (character === player ? 11 : 10)\n        await character.event\n      }\n\n      async function goUp(character) {\n        character.walk(\"up\")\n        character.event = () => character.nextTile.y === 2\n        await character.event\n      }\n\n      let character = game.characters[CHARACTERS.OAK]\n      const { player } = game\n\n      await setMessage(\"¡Eh tú, espera!\")\n      game.enableControls = false\n      character.collision = false\n      player.still(\"down\")\n\n      character.properties = { visible: true }\n      character.position = {\n        x: 9 * SIZE,\n        y: 7 * SIZE,\n      }\n\n      character.walk(\"up\")\n      character.event = () => character.nextTile.y === 3\n      await character.event\n\n      character.walk(\"right\")\n      character.event = () => character.nextTile.x === player.position.x / SIZE\n      await character.event\n\n      character.still(\"up\")\n\n      await setMessage(`\n      No puedes irte por ahí a lo loco sin un pokemon, ¿es que no has visto la noticia del niño que murió incinerado por un charizard?\n      ¿Y la señora que estaba recogiendo la ropa del tendedero felizmente cuando vino un magikarp y se la chapoteó entera? Sígueme anda, que te doy uno.\n      `)\n\n      await Promise.all([\n        goToLaboratory(character).then(() => character.properties = { visible: false }),\n        goToLaboratory(player).then(() => player.still())\n      ])\n\n\n      player.event = () => game.characters[CHARACTERS.OAK] !== character\n      await player.event\n\n      character.collision = true\n\n      character = game.characters[CHARACTERS.OAK]\n      character.direction = \"up\"\n      character.position = {\n        x: 5 * SIZE,\n        y: 10 * SIZE,\n      }\n\n      await Promise.all([\n        goUp(character).then(() => character.still(\"left\")),\n        goUp(player).then(() => player.still(\"right\")),\n      ])\n\n      character.properties = { interact: \"choosePokemon\" }\n\n      player.event = () => player.direction === \"right\"\n      await player.event\n      player.interact()\n\n      game.enableControls = true\n      database.setItem(\"meetOak\", true)\n    },\n  }\n\n  return events\n}"],"sourceRoot":""}