{"version":3,"sources":["scripts/PalletTown/index.js"],"names":["database","getEventsDB","getEvents","game","setMessage","value","Promise","resolve","callback","meetOak","getItem","character","characters","CHARACTERS","OAK","player","enableControls","still","position","x","SIZE","y","properties","visible","walk","event","nextTile","setItem"],"mappings":"yMAGMA,EAAWC,YAAY,cAEtB,SAASC,EAAUC,GAkCxB,SAASC,EAAWC,GAClB,OAAO,IAAIC,SAAQ,SAAAC,GACjBJ,EAAKC,WAAW,CAAEC,QAAOG,SAAUD,OAIvC,MAvCe,CACPE,QADO,WACI,OAAD,4HACJT,EAASU,QAAQ,WADb,0EAGRC,EAAYR,EAAKS,WAAWC,IAAWC,KACrCC,EAAWZ,EAAXY,OAERZ,EAAKa,gBAAiB,EANR,SAORZ,EAAW,yBAPH,cAQdW,EAAOE,MAAM,QACbN,EAAUO,SAASC,EAAI,EAAIC,IAC3BT,EAAUO,SAASG,EAAI,EAAID,IAC3BT,EAAUW,WAAV,eAA4BX,EAAUW,WAAtC,CAAkDC,SAAS,IAC3DZ,EAAUa,KAAK,MAEfb,EAAUc,MAAQ,kBAA+B,IAAzBd,EAAUe,SAASL,GAd7B,UAeRV,EAAUc,MAfF,eAgBdd,EAAUa,KAAK,SAEfb,EAAUc,MAAQ,kBAAMd,EAAUe,SAASP,IAAMJ,EAAOG,SAASC,EAAIC,KAlBvD,UAmBRT,EAAUc,MAnBF,eAoBdd,EAAUM,MAAM,MApBF,UAsBRb,EAAW,iUAtBH,QA2BdD,EAAKa,gBAAiB,EACtBhB,EAAS2B,QAAQ,WAAW,GA5Bd","file":"static/js/0.b94cc492.chunk.js","sourcesContent":["import { getEventsDB } from \"libraries/database\"\nimport { CHARACTERS, SIZE } from \"libraries/constants\"\n\nconst database = getEventsDB(\"PalletTown\")\n\nexport function getEvents(game) {\n  const events = {\n    async meetOak() {\n      if (await database.getItem(\"meetOak\")) return\n\n      const character = game.characters[CHARACTERS.OAK]\n      const { player } = game\n\n      game.enableControls = false\n      await setMessage(\"¡Eh tú, espera!\")\n      player.still(\"down\")\n      character.position.x = 9 * SIZE\n      character.position.y = 7 * SIZE\n      character.properties = { ...character.properties, visible: true }\n      character.walk(\"up\")\n\n      character.event = () => character.nextTile.y === 3\n      await character.event\n      character.walk(\"right\")\n\n      character.event = () => character.nextTile.x === player.position.x / SIZE\n      await character.event\n      character.still(\"up\")\n\n      await setMessage(`\n      No puedes irte por ahí a lo loco sin un pokemon, ¿es que no has visto la noticia del niño que murió incinerado por un charmander?\n      ¿Y la señora que estaba recogiendo la ropa tendida felizmente cuando vino un magikarp y se la chapoteó entera? Sígueme anda, que te doy uno.\n      `)\n\n      game.enableControls = true\n      database.setItem(\"meetOak\", true)\n    },\n  }\n\n  function setMessage(value) {\n    return new Promise(resolve => {\n      game.setMessage({ value, callback: resolve })\n    })\n  }\n\n  return events\n}"],"sourceRoot":""}