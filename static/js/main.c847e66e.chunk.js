(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,n){e.exports={root:"GamePad_root__1oxIu",container:"GamePad_container__zvHUl",button:"GamePad_button__2J88v"}},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));Object({NODE_ENV:"production",PUBLIC_URL:"/pokemon",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_HOST;var a=100,r=8,o={UP:"up",LEFT:"left",RIGHT:"right",DOWN:"down"}},48:function(e,t,n){e.exports={root:"Main_root__18Ijz",canvas:"Main_canvas__3MHFI"}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p}));var a=n(35),r=n(46),o=n(34),c=n.n(o),i=n(45),u=n(15),l=n(47),s=new DOMParser;function f(e){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(c.a.mark((function e(t){var n,a,r,o,l,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t).then((function(e){return e.text()}));case 3:return n=e.sent,a=Array.from(s.parseFromString(n,"application/xml").children),r=Object(u.a)(a,1),o=r[0],l=Object(i.a)(o.children),f=l.slice(1),e.abrupt("return",f.reduce((function(e,t){var n=Object(i.a)(t.children[0].children).slice(0);return e[t.id]=n.reduce((function(e,t){return e[t.getAttribute("name")]=t.getAttribute("value"),e}),{}),e}),{tileSize:o.getAttribute("tilewidth"),columns:o.getAttribute("columns")}));case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(c.a.mark((function e(t){var n,o,l,f,d,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t).then((function(e){return e.text()}));case 3:return n=e.sent,o=Array.from(s.parseFromString(n,"application/xml").children),l=Object(u.a)(o,1),f=l[0],d=Object(i.a)(f.children),v=d.slice(1),e.abrupt("return",v.reduce((function(e,t){var n=e[t.getAttribute("name")]||{};if("objectgroup"===t.nodeName){var o=Array.from(t.children).reduce((function(e,t){return e.push(Object(r.a)({id:t.getAttribute("gid"),x:t.getAttribute("x"),y:t.getAttribute("y")},Array.from(t.children[0].children).reduce((function(e,t){return e[t.getAttribute("name")]=t.getAttribute("value"),e}),{}))),e}),[]);Object.assign(n,{objects:o})}else Object.assign(n,{value:t.children[0].innerHTML});return Object(r.a)({},e,Object(a.a)({},t.getAttribute("name"),n))}),{}));case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e[0].toUpperCase()+e.slice(1)}},69:function(e,t,n){e.exports=n(80)},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n(15),i=n(62),u=n(109),l=n(103),s=n(104),f=n(110),d=n(105),v=n(106),m=n(107),p=n(108),h=n(111),b=n(60),E=n.n(b),g=n(61),w=n.n(g),O=n(112),y=n(101),j=n(55),A=n.n(j)()({notifications:{state:[],reducer:function(e,t){var n=t.action,a=t.value;switch(n){case"push":e.push(a);break;case"shift":e.shift();break;default:return}}}});var _=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],o=A("notifications"),i=Object(c.a)(o,2),u=i[0],l=i[1];return Object(a.useEffect)((function(){r(u.length>0)}),[u]),{notification:u[0],handleClose:function(){r(!1)},handleExited:function(){l({action:"shift"})},open:n}};var x=function(){var e=_(),t=e.notification,n=e.handleClose,a=e.handleExited,o=e.open;return r.a.createElement(O.a,{open:o,onClose:n,onExited:a,autoHideDuration:2e3},r.a.createElement(y.a,{message:t}))},L=n(18),P=n(49);var N=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1];function o(e){r(e),window.dispatchEvent(new CustomEvent("action",{detail:e}))}return Object(a.useEffect)((function(){function e(e){var n=document.elementFromPoint(e.x,e.y),a=null===n||void 0===n?void 0:n.dataset.action;a?o(a):t()}function t(){o(null)}var n=[["pointerdown",e],["pointermove",e],["pointerup",t]];return n.forEach((function(e){var t;return(t=window).addEventListener.apply(t,Object(P.a)(e))})),function(){return n.forEach((function(e){var t;return(t=window).removeEventListener.apply(t,Object(P.a)(e))}))}}),[]),{buttonPress:n}},k=n(17),C=n.n(k);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var R=r.a.createElement("rect",{height:100,width:100}),W=r.a.createElement("path",{d:"M 0 99 L 40 140 L 60 140 L 100 99 Z"}),I=r.a.createElement("path",{d:"M 0 0 L 0 100 L 40 140 L 60 140 L 100 100 L 100 0 Z"}),H=function(e){var t=e.svgRef,n=e.title,a=T(e,["svgRef","title"]);return r.a.createElement("svg",S({viewBox:"-5 0 110 140",ref:t},a),n?r.a.createElement("title",null,n):null,R,W,I)},U=r.a.forwardRef((function(e,t){return r.a.createElement(H,S({svgRef:t},e))}));n.p;var D=function(){var e=N().buttonPress;return r.a.createElement("div",{className:C.a.root},r.a.createElement("div",{className:C.a.container,style:{"--area":"top","--color":e===L.a.UP?"grey":"white"}},r.a.createElement(U,{"data-action":L.a.UP,className:C.a.button})),r.a.createElement("div",{className:C.a.container,style:{"--area":"left","--rotate":"270deg","--color":e===L.a.LEFT?"grey":"white"}},r.a.createElement(U,{"data-action":L.a.LEFT,className:C.a.button})),r.a.createElement("div",{className:C.a.container,style:{"--area":"right","--rotate":"90deg","--color":e===L.a.RIGHT?"grey":"white"}},r.a.createElement(U,{"data-action":L.a.RIGHT,className:C.a.button})),r.a.createElement("div",{className:C.a.container,style:{"--area":"bottom","--rotate":"180deg","--color":e===L.a.DOWN?"grey":"white"}},r.a.createElement(U,{"data-action":L.a.DOWN,className:C.a.button})))};function M(e){e.preventDefault()}var F=function(){var e=Object(a.useRef)();return Object(a.useEffect)((function(){if("ReactSnap"!==navigator.userAgent)return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,138)).then((function(t){return(0,t.createGame)(e.current)})),window.addEventListener("contextmenu",M),function(){window.removeEventListener("contextmenu",M)}}),[]),{canvas:e}},G=n(48),z=n.n(G);var B=r.a.memo((function(){var e=F().canvas;return r.a.createElement("div",{className:z.a.root},r.a.createElement(x,null),r.a.createElement(D,null),r.a.createElement("canvas",{className:z.a.canvas,ref:e}))})),K=n(51);var J=function(e){var t=Object(a.useState)(),n=Object(c.a)(t,2),r=n[0],o=n[1];return Object(a.useLayoutEffect)((function(){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}),[e]),Object(a.useEffect)((function(){function e(e){var t=e.detail;o((function(){return function(){t.postMessage({type:"SKIP_WAITING"}),window.location.reload()}}))}return window.addEventListener("update",e),function(){return window.removeEventListener("update",e)}}),[]),{update:r,handleClose:function(e){e.currentTarget.dataset.confirm?r():o()}}},Z=/palettePrimary/,V=Object(i.a)({palette:{type:"dark",primary:E.a,secondary:w.a}}),$=":root{".concat(function e(t,n){if(t&&"object"===typeof t)return Object.entries(t).reduce((function(t,a){var r=Object(c.a)(a,2),o=r[0],i=r[1],u=e(i,n?"".concat(n).concat(Object(K.c)(o)):o);return u?t+u:t}),"");if(Z.test(n))return"--".concat(n,":").concat(t,";")}(V),"}");var q=function(){var e=J($),t=e.update,n=e.handleClose;return r.a.createElement(u.b,{injectFirst:!0},r.a.createElement(l.a,{theme:V},r.a.createElement(s.a,null),r.a.createElement(f.a,{onClose:n,open:!!t},r.a.createElement(d.a,null,"Nueva versi\xf3n disponible"),r.a.createElement(v.a,null,r.a.createElement(m.a,null,'Pulsa "Actualizar" para aplicar los cambios')),r.a.createElement(p.a,null,r.a.createElement(h.a,{onClick:n,color:"secondary"},"Cancelar"),r.a.createElement(h.a,{onClick:n,"data-confirm":!0,color:"primary"},"Actualizar"))),r.a.createElement(B,null)))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Y=document.getElementById("root");if(Y.hasChildNodes()){var ee=Array.from(document.getElementsByTagName("style"));Object(o.hydrate)(r.a.createElement(q,null),Y,(function(){return ee.forEach((function(e){return e.remove()}))})),function(e){if("serviceWorker"in navigator){if(new URL("/pokemon",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pokemon","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):X(t,e)}))}}({onUpdate:function(e){window.dispatchEvent(new CustomEvent("update",{detail:e.waiting}))}})}else Object(o.render)(r.a.createElement(q,null),Y)}},[[69,1,2]]]);
//# sourceMappingURL=main.c847e66e.chunk.js.map